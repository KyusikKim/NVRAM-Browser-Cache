<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- platform-notes.qdoc -->
  <title>Qt 4.7: Platform and Compiler Notes - Symbian</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
<li>Platform and Compiler Notes - Symbian</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<p class="naviNextPrevious headerNavi">
</p><p/>
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#source-compatibility">Source Compatibility</a></li>
<li class="level1"><a href="#binary-compatibility">Binary Compatibility</a></li>
<li class="level1"><a href="#supported-devices">Supported Devices</a></li>
<li class="level1"><a href="#supported-functionality">Supported Functionality</a></li>
<li class="level1"><a href="#compiler-notes">Compiler Notes</a></li>
<li class="level2"><a href="#gcce-symbian">GCCE (Symbian)</a></li>
<li class="level1"><a href="#known-issues">Known Issues</a></li>
<li class="level1"><a href="#required-capabilities">Required Capabilities</a></li>
<li class="level1"><a href="#multimedia-and-phonon-support">Multimedia and Phonon Support</a></li>
<li class="level1"><a href="#hardware-accelerated-rendering">Hardware Accelerated Rendering</a></li>
<li class="level1"><a href="#qtopengl-support-in-symbian">QtOpenGL Support in Symbian</a></li>
<li class="level1"><a href="#ui-performance-in-devices-prior-to-symbian-3">UI Performance in devices prior to Symbian^3</a></li>
</ul>
</div>
<h1 class="title">Platform and Compiler Notes - Symbian</h1>
<span class="subtitle"></span>
<!-- $$$platform-notes-symbian.html-description -->
<div class="descr"> <a name="details"></a>
<p>As with any port, the maturity for Qt for Symbian has not yet reached the same level as other established Qt ports. This page documents the current notes for the Symbian port.</p>
<a name="source-compatibility"></a>
<h2>Source Compatibility</h2>
<p>Qt for Symbian provides the same level of source compatibility guarantee as given for other platforms. That is, a program which compiles against a given version of Qt for Symbian will also compile against all future versions of the same major release.</p>
<a name="binary-compatibility"></a>
<h2>Binary Compatibility</h2>
<p>As with every supported platform, we will strive to maintain application behavior and binary compatibility throughout the lifetime of the Qt 4.x series. However, due to the fact that Symbian support is newly added in 4.6&#x2e;0, there is a slight possibility that minor corrections to the application binary interface (ABI) might be required in 4.6&#x2e;1, in order to ensure compatibility going forward. Any such change will be clearly documented in the release notes for 4.6&#x2e;1&#x2e;</p>
<a name="supported-devices"></a>
<h2>Supported Devices</h2>
<p>See the list of supported devices at http://wiki.forum.nokia.com/index.php/Nokia_Smart_Installer_for_Symbian#<a href="#supported-devices">Supported_Devices</a></p>
<a name="supported-functionality"></a>
<h2>Supported Functionality</h2>
<p>The following technologies and classes are not currently supported:</p>
<table class="generic">
<thead><tr class="qt-style"><th >Technology</th><th >Note</th></tr></thead>
<tr valign="top" class="odd"><td ><a href="qtconcurrent.html">QtConcurrent</a></td><td >Planned for future release.</td></tr>
<tr valign="top" class="even"><td ><a href="qtdbus.html">QtDBus</a></td><td >No current plans to support this feature.</td></tr>
<tr valign="top" class="odd"><td >Printing support</td><td >No current plans to support this feature.</td></tr>
<tr valign="top" class="even"><td ><a href="qt3support.html">Qt3Support</a></td><td >No current plans to support this feature.</td></tr>
</table>
<p>The following technologies have limited support:</p>
<table class="generic">
<thead><tr class="qt-style"><th >Technology</th><th >Note</th></tr></thead>
<tr valign="top" class="odd"><td ><a href="qtsql.html">QtSql</a></td><td >The only driver supported is SQLite.</td></tr>
<tr valign="top" class="even"><td ><a href="qtmultimedia.html">QtMultimedia</a></td><td >Although the module itself is supported, no backend for Symbian is currently available. However, there is a backend available for Phonon.</td></tr>
</table>
<a name="compiler-notes"></a>
<h2>Compiler Notes</h2>
<a name="gcce-symbian"></a>
<h3>GCCE (Symbian)</h3>
<p>GCCE cannot be used to compile Qt libaries for the Symbian platform, but GCCE is supported when compiling Qt applications for the Symbian platform.</p>
<a name="known-issues"></a>
<h2>Known Issues</h2>
<p>Known issues can be found by visiting the <a href="http://qt.gitorious.org/qt/pages/QtKnownIssues">wiki page</a> with an up-to-date list of known issues, and the list of bugs can be found by <a href="http://bugreports.qt.nokia.com/browse/QTBUG/component/19171">browsing</a> the S60 component in Qt's public task tracker, located at <a href="http://bugreports.qt.nokia.com/">http://bugreports.qt.nokia.com/</a>.</p>
<p>For information about mixing exceptions with Symbian leaves, see <a href="symbianexceptionsafety.html">Exception Safety with Symbian</a>.</p>
<a name="required-capabilities"></a>
<h2>Required Capabilities</h2>
<p>The Qt libraries are typically signed with <tt>All -TCB</tt> capabilites, but that does not mean your Qt application needs to be signed with the same capabilities to function properly. The capabilities your application needs to function properly depends on which parts of Qt you use, here is an overview:</p>
<table class="generic">
<thead><tr class="qt-style"><th >Module</th><th >Required Symbian Capability</th></tr></thead>
<tr valign="top" class="odd"><td ><a href="qtcore.html">QtCore</a></td><td ><tt>PowerMgmt</tt> if QProcess::kill(..&#x2e;) or QProcess::terminate(..&#x2e;) is called.</td></tr>
<tr valign="top" class="even"><td ><a href="qtcore.html">QtCore</a></td><td ><tt>AllFiles</tt> when <a href="http://developer.symbian.org/wiki/index.php/Capabilities_%28Symbian_Signed%29/AllFiles_Capability">accessing specific areas.</a></td></tr>
<tr valign="top" class="odd"><td ><a href="qtdeclarative.html">QtDeclarative</a></td><td ><tt>NetworkServices</tt> is automatically added for this module if no capabilities are explicitly specified.</td></tr>
<tr valign="top" class="even"><td ><a href="qtnetwork.html">QtNetwork</a></td><td ><tt>NetworkServices</tt> is automatically added for this module if no capabilities are explicitly specified.</td></tr>
<tr valign="top" class="odd"><td ><a href="qtnetwork.html">QtNetwork</a></td><td ><tt>ReadUserData</tt> is required to include all the phone's SSL certificates in the system's default CA certificate list (for example those added by the user or stored in the SIM card), without this capability only the CA certs built into the phone are used.</td></tr>
<tr valign="top" class="even"><td >QtMultiMedia</td><td ><tt>UserEnvironment</tt> if <a href="qaudioinput.html">QAudioInput</a> is used.</td></tr>
<tr valign="top" class="odd"><td >QtWebkit</td><td ><tt>NetworkServices</tt> is automatically added for this module if no capabilities are explicitly specified.</td></tr>
</table>
<p><b>Note:</b> Some modules rely on other modules. E.g&#x2e; QtWebkit and <a href="qtdeclarative.html">QtDeclarative</a> depend on <a href="qtnetwork.html">QtNetwork</a> and therefore any application that depends on these modules is also likely to need <tt>NetworkServices</tt> capability.</p>
<p>For more information see the documentation of the individual Qt classes. If a class does not mention Symbian capabilities, it requires none.</p>
<a name="multimedia-and-phonon-support"></a>
<h2>Multimedia and Phonon Support</h2>
<p>Qt provides a backend for Qt's Phonon module, which supports video and sound playback through Symbian's Multimedia Framework, MMF.</p>
<p>In this release the support is experimental. Video playback may have flickering issues, and support for effects and playback queueing is incomplete.</p>
<p>The audio and video formats that Phonon supports depends on what support the platform provides for MMF. The emulator is known to have limited codec support.</p>
<p>In addition, there exists a backend for the Helix framework. However, due to it not shipping with Qt, its availability depends on the Symbian platform in use. If available, it is loaded in preference over the MMF plugin. If the Helix plugin fails to load, the MMF plugin, if present on the device, will be loaded instead.</p>
<a name="hardware-accelerated-rendering"></a>
<h2>Hardware Accelerated Rendering</h2>
<p>The default graphics system on Symbian^3 is OpenVG, which uses OpenVG hardware to accelerate <a href="qpainter.html">QPainter</a> functions. There are a few exceptions, where Qt will use software rendering fallback.</p>
<p>Devices like the N8 and C7 only have 32Mb of GPU memory and limited support for EGL surface transparency. These devices can be identified by querying the<tt>GL_RENDERER</tt> or <tt>VG_RENDERER</tt> string which evaluates to <tt>VideoCore III</tt>. On these devices, Qt will use software rendering in cases listed below.</p>
<ul>
<li>Translucent windows</li>
<li>Dialogs</li>
<li>Popups</li>
</ul>
<a name="qtopengl-support-in-symbian"></a>
<h2>QtOpenGL Support in Symbian</h2>
<p>Qt 4.7 introduces the <a href="qtopengl.html">QtOpenGL</a> module to Symbian^3. <a href="qtopengl.html">QtOpenGL</a> is supported on devices which support OpenGL ES 2.0&#x2e; Symbian platforms prior to Symbian^3 are not supported.</p>
<p><a href="qglwidget.html">QGLWidget</a> usage as a <a href="qgraphicsview.html">QGraphicsView</a> viewport is not recommended on Symbian. The OpenVG graphics system is not able to manage OpenGL graphics resources. Also, a <a href="qglwidget.html">QGLWidget</a> object is not able to release its GPU resources when the application goes to the background. If OpenGL functionality is needed, OpenGL graphics system usage is recommended. If an application decides to use <a href="qglwidget.html">QGLWidget</a>, then it is the application's responsibility to destroy and release <a href="qglwidget.html">QGLWidget</a> and related OpenGL resources when the application goes to the background. Otherwise, the <a href="http://www.developer.nokia.com/Community/Wiki/Graphics_memory_handling">Graphics Out Of Memory monitor</a> may decide to kill the application as it consumes GPU resources while in the background.</p>
<p><b>Note:</b> <a href="qglbuffer.html">QGLBuffer</a>, <a href="qglframebufferobject.html">QGLFramebufferObject</a>, <a href="qglpixelbuffer.html">QGLPixelBuffer</a>, <a href="qglshader.html">QGLShader</a>, and <a href="qglshaderprogram.html">QGLShaderProgram</a> are direct GPU resources and it is the application's responsibility to manage them.</p>
<a name="ui-performance-in-devices-prior-to-symbian-3"></a>
<h2>UI Performance in devices prior to Symbian^3</h2>
<p>Qt uses the <a href="qpainter.html">QPainter</a> class to perform low-level painting on widgets and other paint devices. <a href="qpainter.html">QPainter</a> provides functions to draw complex shapes, aligned text and pixmaps. It can also do vector path clipping, coordinate transformations and Porter-Duff composition. If the underlying graphics architecture does not support all of these operations then Qt uses the raster graphics system for rendering.</p>
<p>Most of the Symbian devices prior to Symbian^3 use a non-ScreenPlay graphics architecture which does not have native support for all functions provided by <a href="qpainter.html">QPainter</a>. In non-ScreenPlay devices Qt uses the raster graphics system by default which has a performance penalty when compared to native Symbian rendering.</p>
<p>In order to be able to perform all functions provided by <a href="qpainter.html">QPainter</a>, the raster graphics system needs to have pixel level framebuffer access. To make this possible in non-ScreenPlay devices Qt has to create an additional offscreen buffer that is the target for all Qt rendering operations. Qt renders the widget tree to the offscreen buffer and the offscreen buffer is blitted to the framebuffer via Symbian Window Server.</p>
<p>The following table shows the rendering stacks of native Symbian and Qt in non-ScreenPlay devices.</p>
<table class="generic">
<thead><tr class="qt-style"><th >Symbian</th><th >Qt</th></tr></thead>
<tr valign="top" class="odd"><td ><p class="centerAlign"><img src="images/symbian-rendering-stack-non-screenplay.png" /></p></td><td ><p class="centerAlign"><img src="images/symbian-qt-rendering-stack-non-screenplay.png" /></p></td></tr>
</table>
<p>The following diagrams show a simplified sequence of drawing a pixmap in a non-ScreenPlay device.</p>
<table class="generic">
<thead><tr class="qt-style"><th >Symbian</th></tr></thead>
<tr valign="top" class="odd"><td ><p class="centerAlign"><img src="images/symbian-draw-pixmap-sequence.png" /></p></td></tr>
</table>
<table class="generic">
<thead><tr class="qt-style"><th >Qt</th></tr></thead>
<tr valign="top" class="odd"><td ><p class="centerAlign"><img src="images/symbian-qt-draw-pixmap-sequence.png" /></p></td></tr>
</table>
<p>When compared to a native Symbian application, Qt does an additional blit to the offscreen buffer before drawing to the framebuffer. That is the performance penalty which needs to be paid to get all functionality provided by <a href="qpainter.html">QPainter</a> in non-ScreenPlay architecture.</p>
</div>
<!-- @@@platform-notes-symbian.html -->
<p class="naviNextPrevious footerNavi">
</p>
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
